<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Player</title>
</head>

<body class="body" style="background-color:black;">

    <video id="myVideo" width="100%" height="100%" controls>
        <source src="Baby Driver - Full Movie - Free.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <script>
        var video = document.getElementById("myVideo");

        //keyWord = "drive"; 
        //keyFrequency = 6; 


        let keyTimestamps = [1124, 1294, 2304, 3174, 3358, 4382];






        // Pause the video
        function pauseVideo() {
            video.pause();
        }

        // Play the video
        function playVideo() {
            video.play();
        }


        // Open a new pop-up window




        // Function to handle timeupdate event and pause the video at specified times

        
        let pauseTimes = keyTimestamps;
        let index = 0;
        let listOfDares =  ["Send a random compliment to the third person in your contact list.", "Go outside to west dining and shout a funny phrase loudly.",
  "FaceTime or call someone of the opposite sex and sing \"Happy Birthday\" to them, regardless of whether it's their birthday or not.",
  "Eat a hot pepper or spicy food item and try not to drink anything for the next 5 minutes.",
  "Call a crush and confess a fake secret admirer story", "Dress up in a silly costume, grab a random object, and give a two-minute performance. Have your friends record it!"];

        function pauseAtSpecificTime() {
            let currentTime = video.currentTime;
            console.log(currentTime);
            if (currentTime >= pauseTimes[index]) {
                video.pause();
                let darePopup = window.open("darePopup.html", 'Dare Popup', 'width=800,height=400');
                let finishedButton;
                darePopup.onload = function () {
                    darePopup.document.getElementById("dare").innerHTML = listOfDares[index];
                    finishedButton = darePopup.document.querySelector("button");
                    finishedButton.addEventListener("click", function () {
                        darePopup.close();
                        video.play();
                        index++;
                        pauseAtSpecificTime();
                    });
                
                };

            } else {
                setTimeout(pauseAtSpecificTime, 200);
            }


        }


        video.onloadeddata = function () {
            playVideo();
            pauseAtSpecificTime();

        };

    </script>



</body>

</html>
